<script>

    // --- VARIABLES INICIALES --- (Ya las tenÃ­as bien)
const consumoArrozMaki = 120, consumoAguaMaki = 0.10, precioUnitarioMaki = 8;
const consumoArrozNigiri = 50, consumoAguaNigiri = 0.05, precioUnitarioNigiri = 10;
const consumoArrozSashimi = 0, consumoAguaSashimi = 0.02, precioUnitarioSashimi = 12;

let totalMaki = 0, totalNigiri = 0, totalSashimi = 0, importeTotal = 0;
let maki = "maki", nigiri = "nigiri", sashimi = "sashimi";
let contadorPedidos = 0, arrozGastadoTotal = 0, aguaGastadaTotal = 0, hayStock = true;

// --- ENTRADA DE DATOS ---
let numeroPedidos = parseInt(prompt("NÃºmero de pedidos:"));
let stockArroz = parseInt(prompt("Stock arroz (g):"));
let stockAgua = parseFloat(prompt("Stock agua (L):"));

// --- MOTOR PRINCIPAL --- ðŸ”„
while (contadorPedidos < numeroPedidos && hayStock === true) {
    
    // A. SelecciÃ³n de Plato ðŸ£
    let tipoPlato = prompt("Pedido " + (contadorPedidos + 1) + ": Â¿QuÃ© plato quieres? (maki, nigiri, sashimi)");
    while (tipoPlato !== maki && tipoPlato !== nigiri && tipoPlato !== sashimi) {
        tipoPlato = prompt("Error. Introduce maki, nigiri o sashimi:");
    }

    // B. SelecciÃ³n de Unidades ðŸ”¢
    let numeroUnidades = parseInt(prompt("Â¿CuÃ¡ntas unidades quieres?"));
    while (numeroUnidades < 0 || isNaN(numeroUnidades)) {
        numeroUnidades = parseInt(prompt("Error. Introduce un nÃºmero vÃ¡lido:"));
    }

    // C. CÃ¡lculo del pedido actual ðŸ§®
    let arrozPedido = 0, aguaPedido = 0, precioPedido = 0;

    if (tipoPlato === maki) {
        arrozPedido = numeroUnidades * consumoArrozMaki;
        aguaPedido = numeroUnidades * consumoAguaMaki;
        precioPedido = numeroUnidades * precioUnitarioMaki;
    } else if (tipoPlato === nigiri) {
        arrozPedido = numeroUnidades * consumoArrozNigiri;
        aguaPedido = numeroUnidades * consumoAguaNigiri;
        precioPedido = numeroUnidades * precioUnitarioNigiri;
    } else if (tipoPlato === sashimi) {
        arrozPedido = numeroUnidades * consumoArrozSashimi;
        aguaPedido = numeroUnidades * consumoAguaSashimi;
        precioPedido = numeroUnidades * precioUnitarioSashimi;
    }

    // D. Control de Stock ðŸš©
    if ((arrozGastadoTotal + arrozPedido) > stockArroz || (aguaGastadaTotal + aguaPedido) > stockAgua) {
        if ((arrozGastadoTotal + arrozPedido) > stockArroz) alert("Â¡Alerta! Has superado el stock de arroz.");
        if ((aguaGastadaTotal + aguaPedido) > stockAgua) alert("Â¡Alerta! Has superado el stock de agua.");
        hayStock = false; // Se rompe el bucle
    } else {
        // E. Si hay stock, acumulamos y mostramos ðŸ“ˆ
        arrozGastadoTotal += arrozPedido;
        aguaGastadaTotal += aguaPedido;
        importeTotal += precioPedido;

        if (tipoPlato === maki) totalMaki += numeroUnidades;
        else if (tipoPlato === nigiri) totalNigiri += numeroUnidades;
        else if (tipoPlato === sashimi) totalSashimi += numeroUnidades;

        console.log("Pedido " + (contadorPedidos + 1) + " registrado con Ã©xito.");
        contadorPedidos++; // Solo sumamos si el pedido fue vÃ¡lido y hubo stock
    }
}

// --- PUNTO 4: INFORME FINAL (AquÃ­ es donde debes imprimir los totales) ---
console.log("--- CIERRE DE CAJA ---");
console.log("Total ganado: " + importeTotal + "â‚¬");


</script>